<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date객체 관련 get, set메서드</title>
    <style>
        img {
            width: 33%;
        }
        li {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>데이터를 set하는 메서드를 보통 setter, get하는 메서드를 getter라고 부른다</h1>
    <ul>
        <li>Date객체에는 날짜와 시간관련 메서드들이 동일한 이름</li>
        <li>get methods <img src="images/data_getter.png" alt=""></li>
        <li>set methods <img src="images/data_setter.png" alt=""></li>
    </ul>
    <h2>Date() 객체를 사용하기 불편한 부분이 있어 이를 보완하기위해 자바스크립트 라이브러리를 많이 활용하는 편</h2>
    <ul>
        <li>moment.js : 순수 자바스크립트를 기반으로 날짜 데이터를 다루는 코드 라이브러리</li>
        <li>fullcalender : 캘린더 UI까지 제공하는 프론트용 라이브러리 : 커스터마이징이  어려운 편이여서 별도의 라이브러리 공부가 필요함</li>
    </ul>
    <h2>여러분의 생년월일로부터 오늘까지 몇일이 지났는지 출력해보세요 <br>
        (optional): 어떤 목표가 있다고 가정한 후 기한을 정한 후 몇일 남았는지 출력해보세요.
    </h2>
    생일 입력 : <input type="date" id="birth">
    <button type="button" id="calc">몇일이 지났을까?</button><br>
    
    목표일자 입력 : <input type="date" id="target">
    <button type="button" id="calc2">몇일이 지났을까?</button>
    <h3 id="diff"></h3>
    <script>
        let today = new Date();
        console.log(today.getDay());

        let count = new Date("2022-04-14") - new Date("1996-10-31");
        console.log(`${count/(1000*60*60*24)}일`);
        
        let count2 = new Date("2022-08-31") - new Date("2022-04-14");
        console.log(`${count2/(1000*60*60*24)}일`);
        
        function calcDays(d1, d2) {
            let diff = d1.getTime() - d2.getTime();
            diff = Math.abs(diff)/1000/60/60/24;
            document.getElementById('diff').innerText = diff.toFixed(1);
        }

        document.getElementById('calc').addEventListener('click', function() {
            //let birth = new Date(document.getElementById('birth').value);
            calcDays(new Date(), new Date(document.getElementById('birth').value));
            //console.log(today.getTime()-birth.getTime());
            //let diff = today.getTime() - birth.getTime();
            /* console.log(diff/(1000*60*60*24));
            console.log(today-birth);
            document.getElementById('diff').innerText = diff.toFixed(1); */
        });
        
        document.getElementById('calc2').addEventListener('click', function() {
            //let today = new Date();
            //let target = new Date(document.getElementById('target').value);
            calcDays(new Date(), new Date(document.getElementById('target').value)); //파라미터 순서바꾸면 절대값 안해도됨.
            /* console.log(target-today);
            let diff = target.getTime() - today.getTime();
            console.log(diff/(1000*60*60*24));
            document.getElementById('diff').innerText = diff.toFixed(1); */
        });

    </script>
</body>
</html>